(this["webpackJsonprest-countries-api"]=this["webpackJsonprest-countries-api"]||[]).push([[4],{62:function(e,t,r){"use strict";r.r(t),r.d(t,"CountriesContext",(function(){return f}));var n=r(0),c=r(8),s=r(1),i=r(28),a=r(10),l=function(e,t){for(var r=0,n=[];r<e.length;)n.push(e.slice(r,r+=t)),r++;return n},o=Object(s.lazy)((function(){return r.e(3).then(r.bind(null,63))})),u=function(e){var t=e.countries,r=Object(s.useState)(l(t,10)),i=Object(c.a)(r,2),u=i[0],d=i[1],j=Object(s.useState)(1),b=Object(c.a)(j,2),f=b[0],x=b[1];if(Object(s.useEffect)((function(){d(l(t,10)),x(1)}),[t]),0===t.length)return Object(n.jsx)("div",{className:"flex items-center justify-center mt-40",children:Object(n.jsx)("h3",{className:"text-lg",children:"There are no results for your query"})});var m=u.slice(0,f);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16",children:m.map((function(e){return Object(n.jsx)(o,{countries:e},e[0])}))}),Object(n.jsx)("div",{className:"flex items-center justify-center my-16",children:u[1]&&Object(n.jsxs)("button",{className:"flex flex-row items-center transition duration-200 focus:outline-none focus:ring-2 py-5 px-3 shadow-lg rounded font-semibold hover:bg-gray-200 dark:bg-darkBlue dark:hover:bg-gray-600",onClick:function(){return x(f+1)},children:[Object(n.jsx)("p",{children:"show more results"}),Object(n.jsx)("div",{className:"ml-4 transition duration-200 rounded-2xl hover:bg-blue-200",children:Object(n.jsx)(a.d,{width:"1.5rem"})})]})})]})},d=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),r=t[0],i=t[1],l=Object(s.useContext)(f),o=Object(c.a)(l,9),u=o[0],d=o[1],j=o[4],b=o[8];Object(s.useEffect)((function(){if(j){var e=j.filter((function(e){return e.region===u}));b.current=e}}),[u]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"flex flex-col min-w-min rounded w-1/6",children:[Object(n.jsxs)("button",{className:"flex transition duration-300 items-center justify-between shadow-md bg-white p-3 rounded text-sm dark:bg-darkBlue px-6 focus:outline-none focus:ring-2 h-full",onBlur:function(){return i(!1)},onClick:function(){return i(!r)},children:[Object(n.jsxs)("p",{className:"font-semibold text-gray-500 dark:text-gray-200",children:[" ",u||"Filter by Region"]}),Object(n.jsx)("div",{className:"transform transition-transform duration-300 ml-8 ".concat(r&&"rotate-180"),children:Object(n.jsx)(a.a,{width:"1rem"})})]}),Object(n.jsx)("div",{className:"relative",children:r&&Object(n.jsx)("div",{className:"flex flex-col absolute bg-white dark:bg-darkBlue p-4 rounded shadow-md top-2 z-10 w-full gap-1",children:["Africa","Americas","Asia","Europe","Oceania","All"].map((function(e){return Object(n.jsx)("button",{className:"flex transition duration-100 hover:text-blue-300",onMouseDown:function(e){e.preventDefault()},onClick:function(t){d(e),i(!1)},children:e},e)}))})})]})})},j=function(){var e=Object(s.useContext)(f),t=Object(c.a)(e,8),r=t[2],i=t[3],l=t[4],o=t[7],u=Object(s.useRef)();return Object(s.useEffect)((function(){if(l){var e=l.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));o.current=e}}),[r]),Object(n.jsxs)("div",{className:"relative",children:[Object(n.jsx)("label",{htmlFor:"country",className:"absolute opacity-0",children:"Search for a country"}),Object(n.jsxs)("div",{className:"flex flex-row items-center min-w-max w-96 bg-white dark:darkBlue shadow-md rounded overflow-hidden truncate dark:bg-darkBlue transition duration-300",ref:u,children:[Object(n.jsx)("div",{className:"ml-4 sm:ml-8 mr-4 sm:mx-8 dark:text-white",children:Object(n.jsx)(a.e,{width:"1.4rem"})}),Object(n.jsx)("input",{className:"transition duration-300 py-4 focus:outline-none dark:bg-darkBlue placeholder-grey dark:placeholder-white mr-4 w-full",type:"text",id:"country",placeholder:"Search for a country...",onChange:function(e){e.preventDefault(),i(e.target.value)},onFocus:function(){return u.current.classList.add("ring-2")},onBlur:function(){return u.current.classList.remove("ring-2")}})]})]})},b=function(){var e=Object(s.useContext)(f),t=Object(c.a)(e,9),r=t[0],i=t[2],a=t[6],l=t[7];return Object(s.useEffect)((function(){if("All"===r)a(l.current);else{var e=l.current.filter((function(e){return e.region===r}));a(e)}}),[i,r]),Object(n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between w-full gap-8",children:[Object(n.jsx)(j,{}),Object(n.jsx)(d,{})]})},f=Object(s.createContext)();t.default=function(e){var t=e.allCountries,r=Object(s.useRef)(null),a=Object(s.useRef)(null),l=Object(s.useState)(""),o=Object(c.a)(l,2),d=o[0],j=o[1],x=Object(s.useState)("All"),m=Object(c.a)(x,2),h=m[0],O=m[1],g=Object(s.useState)(null),v=Object(c.a)(g,2),w=v[0],p=v[1];return t&&!w&&(r.current=t,p(t)),Object(n.jsx)(f.Provider,{value:[h,O,d,j,t,w,p,r,a],children:Object(n.jsxs)("div",{className:"flex flex-col bg-veryLightGrey dark:bg-veryDarkBlueBg min-h-screen px-12 transition duration-500",children:[Object(n.jsx)("div",{className:"flex flex-col sm:flex-row justify-between my-12",children:Object(n.jsx)(b,{})}),Object(n.jsx)("div",{children:t?Object(n.jsx)(u,{countries:w}):Object(n.jsx)(i.a,{size:"h-48 w-48"})})]})})}}}]);
//# sourceMappingURL=4.9590ec13.chunk.js.map