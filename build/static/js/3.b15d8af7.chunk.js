(this["webpackJsonprest-countries-api"]=this["webpackJsonprest-countries-api"]||[]).push([[3],{73:function(e,t,r){"use strict";r.r(t),r.d(t,"CountriesContext",(function(){return b}));var n=r(0),c=r(9),s=r(1),i=(r(14),r(11)),l=function(e,t){for(var r=0,n=[];r<e.length;)n.push(e.slice(r,r+=t)),r++;return n},a=Object(s.lazy)((function(){return r.e(4).then(r.bind(null,74))})),o=function(e){var t=e.countries,r=Object(s.useState)(l(t,10)),o=Object(c.a)(r,2),u=o[0],d=o[1],j=Object(s.useState)(1),b=Object(c.a)(j,2),f=b[0],x=b[1];if(Object(s.useEffect)((function(){d(l(t,10)),x(1)}),[t]),0===t.length)return Object(n.jsx)("div",{className:"flex items-center justify-center mt-40",children:Object(n.jsx)("h3",{className:"text-lg",children:"There are no results for your query"})});var m=u.slice(0,f);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16",children:m.map((function(e){return Object(n.jsx)(a,{countries:e},e[0])}))}),Object(n.jsx)("div",{className:"flex items-center justify-center my-16",children:u[1]&&Object(n.jsxs)("button",{className:"flex flex-row items-center transition duration-200 focus:outline-none focus:ring-2 py-5 px-3 shadow-lg rounded font-semibold hover:bg-gray-200 dark:bg-darkBlue dark:hover:bg-gray-600",onClick:function(){return x(f+1)},children:[Object(n.jsx)("p",{children:"show more results"}),Object(n.jsx)("div",{className:"ml-4 transition duration-200 rounded-2xl hover:bg-blue-200",children:Object(n.jsx)(i.d,{width:"1.5rem"})})]})})]})},u=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),r=t[0],l=t[1],a=Object(s.useContext)(b),o=Object(c.a)(a,9),u=o[0],d=o[1],j=o[4],f=o[8];Object(s.useEffect)((function(){if(j){var e=j.filter((function(e){return e.region===u}));f.current=e}}),[u]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"flex flex-col min-w-min rounded w-1/6",children:[Object(n.jsxs)("button",{className:"flex transition duration-300 items-center justify-between shadow-md bg-white p-3 rounded text-sm dark:bg-darkBlue px-6 focus:outline-none focus:ring-2 h-full",onBlur:function(){return l(!1)},onClick:function(){return l(!r)},children:[Object(n.jsxs)("p",{className:"font-semibold text-gray-500 dark:text-gray-200",children:[" ",u||"Filter by Region"]}),Object(n.jsx)("div",{className:"transform transition-transform duration-300 ml-8 ".concat(r&&"rotate-180"),children:Object(n.jsx)(i.a,{width:"1rem"})})]}),Object(n.jsx)("div",{className:"relative",children:r&&Object(n.jsx)("div",{className:"flex flex-col absolute bg-white dark:bg-darkBlue p-4 rounded shadow-md top-2 z-10 w-full gap-1",children:["Africa","Americas","Asia","Europe","Oceania","All"].map((function(e){return Object(n.jsx)("button",{className:"flex transition duration-100 hover:text-blue-300",onMouseDown:function(e){e.preventDefault()},onClick:function(t){d(e),l(!1)},children:e},e)}))})})]})})},d=function(){var e=Object(s.useContext)(b),t=Object(c.a)(e,8),r=t[2],l=t[3],a=t[4],o=t[7];console.log("hola");var u=Object(s.useRef)();return Object(s.useEffect)((function(){if(a){var e=a.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));o.current=e}}),[r]),Object(n.jsxs)("div",{className:"relative",children:[Object(n.jsx)("label",{htmlFor:"country",className:"absolute opacity-0",children:"Hola"}),Object(n.jsxs)("div",{className:"flex flex-row items-center w-full sm:w-1/4 min-w-max bg-white dark:darkBlue shadow-md rounded overflow-hidden truncate dark:bg-darkBlue transition duration-300",ref:u,children:[Object(n.jsx)("div",{className:"ml-4 sm:ml-8 mr-4 sm:mx-8 dark:text-white",children:Object(n.jsx)(i.e,{width:"1.4rem"})}),Object(n.jsx)("input",{className:"transition duration-300 py-4 focus:outline-none dark:bg-darkBlue placeholder-grey dark:placeholder-white mr-4 w-full",type:"text",id:"country",placeholder:"Search for a country...",onChange:function(e){e.preventDefault(),l(e.target.value)},onFocus:function(){return u.current.classList.add("ring-2")},onBlur:function(){return u.current.classList.remove("ring-2")}})]})]})},j=function(){var e=Object(s.useContext)(b),t=Object(c.a)(e,9),r=t[0],i=t[2],l=t[6],a=t[7];return Object(s.useEffect)((function(){if("All"===r)l(a.current);else{var e=a.current.filter((function(e){return e.region===r}));l(e)}}),[i,r]),Object(n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between w-full gap-8",children:[Object(n.jsx)(d,{}),Object(n.jsx)(u,{})]})},b=(r(32),Object(s.createContext)());t.default=function(e){var t=e.allCountries,r=Object(s.useRef)(null),i=Object(s.useRef)(null),l=Object(s.useState)(""),a=Object(c.a)(l,2),u=a[0],d=a[1],f=Object(s.useState)("All"),x=Object(c.a)(f,2),m=x[0],h=x[1],O=Object(s.useState)(null),g=Object(c.a)(O,2),v=g[0],w=g[1];return t&&!v&&(r.current=t,w(t)),console.log(t),console.log(v),Object(n.jsx)(b.Provider,{value:[m,h,u,d,t,v,w,r,i],children:Object(n.jsxs)("div",{className:"flex flex-col bg-veryLightGrey dark:bg-veryDarkBlueBg min-h-screen px-12 transition duration-500",children:[Object(n.jsx)("div",{className:"flex flex-col sm:flex-row justify-between my-12",children:Object(n.jsx)(j,{})}),Object(n.jsx)("div",{children:t?Object(n.jsx)(o,{countries:v}):Object(n.jsx)("p",{children:"Loading"})})]})})}}}]);
//# sourceMappingURL=3.b15d8af7.chunk.js.map